<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<script src="boot"></script>
	</head>
	<body class="css-fx">
		<div style="min-height: 100%; padding: 1rem; background-color: white;">

			<h2 class="red">Profil <small>.user-profile</small></h2>

			<div class="row panel radius user-profile">

				<div class="column small-12 medium-5 large-4 text-center">

					<!--User picture-->
					<span class="picture large cover radius max-height" data-image="usr/usr-nadejda.jpg">Nadejda</span>

					<!--User links-->
					<ul class="inline-list">
						<li><a href="javascript:void(0)" class="icon-mail medium">Mail</a></li>
						<li><a href="javascript:void(0)" class="icon-home medium">Home</a></li>
						<li><a href="javascript:void(0)" class="icon-link medium">Link</a></li>
					</ul>
					<div id="user-link" class="">
						<input type="text" placeholder="Enter your URL...">
					</div>

				</div>

				<div class="column small-12 medium-7 large-8 text-center">

					<!--Disabled-->
					<label for="pseudo" class="left red">Disabled (attribute 'disabled' is set)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon" disabled="disabled">
					<small id="pseudoError" class="error hide">Le pseudo ne peut &ecirc;tre vide</small>

					<!--Readonly-->
					<label for="pseudo" class="left red">Readonly (attribute 'readonly' is set)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon" readonly="readonly">
					<small id="pseudoError" class="error hide">Le pseudo ne peut &ecirc;tre vide</small>

					<!--Default-->
					<label for="pseudo" class="left red">Enabled (default)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon">
					<small id="pseudoError" class="error hide">Le pseudo doit &ecirc;tre renseign&eacute;</small>

					<!--User role-->
					<div class="clearfix">
						<h4 class="left">MyRole</h4>
						<time datetime="2014-07-23" class="right text-steel"><small>Depuis le JJ mois AAAA</small></time>
					</div>

					<!--User description disabled-->
					<label for="description" class="left red">Disabled (attribute 'disabled' is set)</label>
					<textarea id="description" class="min" maxlength="255" disabled="disabled" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<!--User description readonly-->
					<label for="description" class="left red">Readonly (attribute 'readonly' is set)</label>
					<textarea id="description" class="min" maxlength="255" readonly="readonly" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<!--User description default-->
					<label for="description" class="left red">Enabled (default)</label>
					<textarea id="description" class="min test-txtarea" maxlength="255" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<!--User description standard-->
					<label for="description" class="left red">Standard</label>
					<textarea id="" class="min" maxlength="255" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<hr>

					<!--Social links-->
					<ul class="inline-list">
						<li><a href="javascript:void(0)" class="icon-twitter medium" >Twitter</a></li>
						<li><a href="javascript:void(0)" class="icon-facebook medium" >Facebook</a></li>
						<li><a href="javascript:void(0)" class="icon-googleplus medium" >Google+</a></li>
						<li><a href="javascript:void(0)" class="icon-linkedin medium" >LinkedIn</a></li>
					</ul>
					<div id="social-link" class="row collapse" style="position: relative; width: 100%;">
						<div class="small-5 large-4 columns">
							<span class="prefix">Link prefix</span>
						</div>
						<div class="small-7 large-8 columns">
							<input type="text" placeholder="Enter your URL...">
						</div>
					</div>

				</div>
			</div>

		</div>
		<script>

			function Textarea(selector) {
				// vars
				var str = "";
				var t = 0;
				// template
				var textarea_helper_template = doT.compile(loadfile($app_root + "tmpl/validation_bar.tmpl")); // create template
				// methods
				function valid(obj, cancel) {
					var cancel = cancel || false;
					$(".validation-bar").fadeOut("fast");
					$(".validation-bar").remove();
					if (cancel) {
						obj.val(str);
					}
				}
				// loop
				$(selector).each(function() {
					var obj = $(this);
					if (typeof obj.attr("disabled") === "undefined" && typeof obj.attr("readonly") === "undefined") {
						// events
						obj.bind({
							focus: function() {
								str = $(obj).val();
							},
							blur: function(event) {
								if ($(".validation-bar [data-valid]").length > 0 && $(".validation-bar [data-cancel]").is(":hover")) {
									valid(obj, true);
								} else {
									valid(obj);
								}
							},
							keydown: function(event) {
								if (event.which == 27) { // Escape
									valid(obj, true);
									obj.blur();
								} else if (event.ctrlKey && event.which == 13) { // Ctrl + Enter
									valid(obj);
									obj.blur();
								} else if (event.which == 0 || event.which >= 48 && event.which <= 90 || event.which >= 96 && event.which <= 111 || event.which >= 160 && event.which <= 192) { // ² or A-Z 0-9 ot Numpad or Punctuation Mark
									if ($(".validation-bar").length === 0) {
										$(this).after(textarea_helper_template()); // process template
										$(".validation-bar").fadeIn("slow");
									}
								}
							}
						});
					}
				});
			}

			Textarea("textarea"); // register validbar

		</script>
		<script>
			$build_container = false;
			load();
		</script>
		<script>
			loap.update()
			$(document).ready(function(){
				$('textarea').autosize({append: ""});
			});
		</script>
	</body>
</html>
