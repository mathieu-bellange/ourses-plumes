<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<script src="boot"></script>
	</head>
	<body class="css-fx">
		<div style="min-height: 100%; padding: 1rem; background-color: white;">

			<h2 class="red">Profil <small>.user-profile</small></h2>

			<div class="row panel radius user-profile">

				<div class="column small-12 medium-5 large-4 text-center">

					<!--User picture-->
					<span class="picture large cover radius max-height" data-image="usr/usr-nadejda.jpg">Nadejda</span>

					<!--User links-->
					<ul class="inline-list">
						<li><a href="javascript:void(0)" class="icon-mail medium">Mail</a></li>
						<li><a href="javascript:void(0)" class="icon-home medium">Home</a></li>
						<li><a href="javascript:void(0)" class="icon-link medium">Link</a></li>
					</ul>
					<div id="user-link" class="">
						<input type="text" placeholder="Enter your URL...">
					</div>

				</div>

				<div class="column small-12 medium-7 large-8 text-center">

					<!--Disabled-->
					<label for="pseudo" class="left red">Disabled (attribute 'disabled' is set)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon" disabled="disabled">
					<small id="pseudoError" class="error hide">Le pseudo ne peut &ecirc;tre vide</small>

					<!--Readonly-->
					<label for="pseudo" class="left red">Readonly (attribute 'readonly' is set)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon" readonly="readonly">
					<small id="pseudoError" class="error hide">Le pseudo ne peut &ecirc;tre vide</small>

					<!--Default-->
					<label for="pseudo" class="left red">Enabled (default)</label>
					<input id="pseudo" type="text" value="MyUsername" class="validation-icon">
					<small id="pseudoError" class="error hide">Le pseudo doit &ecirc;tre renseign&eacute;</small>

					<!--User role-->
					<div class="clearfix">
						<h4 class="left">MyRole</h4>
						<time datetime="2014-07-23" class="right text-steel"><small>Depuis le JJ mois AAAA</small></time>
					</div>

					<!--User description disabled-->
					<label for="description" class="left red">Disabled (attribute 'disabled' is set)</label>
					<textarea id="description" class="min" maxlength="255" disabled="disabled" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<!--User description readonly-->
					<label for="description" class="left red">Readonly (attribute 'readonly' is set)</label>
					<textarea id="description" class="min" maxlength="255" readonly="readonly" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<!--User description default-->
					<label for="description" class="left red">Enabled (default)</label>
					<textarea id="description" class="min test-txtarea" maxlength="255" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<textarea id="test1" class="tiny" maxlength="255" placeholder="myPlaceHolder">id="test1"</textarea>
					<textarea id="test2" class="tiny" maxlength="255" placeholder="myPlaceHolder">id="test2"</textarea>

					<!--User description standard-->
					<label for="description" class="left red">Standard</label>
					<textarea id="" class="min" maxlength="255" placeholder="MyTextareaPlaceholder">MyDescription</textarea>

					<hr>

					<!--Social links-->
					<ul class="inline-list">
						<li><a href="javascript:void(0)" class="icon-twitter medium" >Twitter</a></li>
						<li><a href="javascript:void(0)" class="icon-facebook medium" >Facebook</a></li>
						<li><a href="javascript:void(0)" class="icon-googleplus medium" >Google+</a></li>
						<li><a href="javascript:void(0)" class="icon-linkedin medium" >LinkedIn</a></li>
					</ul>
					<div id="social-link" class="row collapse" style="position: relative; width: 100%;">
						<div class="small-5 large-4 columns">
							<span class="prefix">Link prefix</span>
						</div>
						<div class="small-7 large-8 columns">
							<input type="text" placeholder="Enter your URL...">
						</div>
					</div>

				</div>
			</div>

		</div>
		<script>

			function Textarea(obj) {

				// templates
				var textarea_helper_template = doT.compile(loadfile($app_root + "tmpl/helper_textarea.tmpl")); // create template

			//alert(obj.length);

			$(obj).each(function() {

				object = $(this);

				//alert(object.length);

				// vars
				var str = "";
				var t = 0;

				// methods
				function cancel(obj) {
					obj.blur();
					obj.val(str);
				}
				function valid(obj) {
					obj.blur();
				}

				// events
				object.focus(function() {
					alert($(this).val());
				});
				
				
				$("html").on("focus", object, function() {
					str = $(this).val();
				});

				$("html").on("blur", object, function() {
					clearTimeout(t);
					$(".test-validbar").fadeOut("fast");
					$(".test-validbar").remove();
				});

				$("html").on("keydown", object, function(event) {
					if (event.which == 27) { // Escape
						cancel(object);
					} else if (event.ctrlKey && event.which == 13) { // Ctrl + Enter
						valid(object);
					} else {
						if ($(".test-validbar").length === 0) {
							object.after(textarea_helper_template()); // process template
							t = setTimeout(function() {
								$(".test-validbar").fadeIn("slow");
							}, 600);
						}
					}
				});

				$("html").on("click", ".icon-undefined", function() {
					cancel(object);
				});
				$("html").on("click", ".icon-reply", function() {
					valid(object);
				});

			});

			}

			//var test_textarea_i = new Textarea("#test111");
			/*
			Textarea($("#test1"));
			Textarea($("#test2"));
			*/
			//Textarea($("textarea"));

			
			// global vars
			var str = "";
			var t = null;

			// methods
			function cancel(obj) {
				obj.blur();
				obj.val(str);
			}
			function valid(obj) {
				obj.blur();
			}

			// templating
			var textarea_helper_template = doT.compile(loadfile($app_root + "tmpl/helper_textarea.tmpl")); // create template

			// events
			$("html").on("focus", ".test-txtarea", function() {
				str = $(this).val();
			});

			$("html").on("blur", ".test-txtarea", function() {
				clearTimeout(t);
				$(".test-validbar").fadeOut("fast");
				$(".test-validbar").remove();
			});

			$("html").on("keydown", ".test-txtarea", function(event) {
				if (event.which == 27) { // Escape
					cancel($(".test-txtarea"));
				} else if (event.ctrlKey && event.which == 13) { // Ctrl + Enter
					valid($(".test-txtarea"));
				} else {
					if ($(".test-validbar").length === 0) {
						$(".test-txtarea").after(textarea_helper_template()); // process template
						t = setTimeout(function() {
							$(".test-validbar").fadeIn("slow");
						}, 600);
					}
				}
			});

			$("html").on("click", ".icon-undefined", function() {
				cancel($(".test-txtarea"));
			});
			$("html").on("click", ".icon-reply", function() {
				valid($(".test-txtarea"));
			});
			

		</script>
		<script>
			$build_container = false;
			load();
		</script>
		<script>
			loap.update()
			$(document).ready(function(){
				$('textarea').autosize({append: ""});
			});
		</script>
	</body>
</html>
