<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<script src="/boot"></script>
		<!--Define Internal Template -->
		<script id="_template" type="text/x-dot-template">
			<h2>{{= data.title }}</h2>
			<table>
				<caption>{{= data.caption }}</caption>
				<tr>
					<th>Identifiant</th>
					<th>Adresse email</th>
					<th>Mot de passe</th>
				</tr>
				{{~ data.users:key }}
				<tr>
					<td>{{= key.login }}</td>
					<td>{{= key.mail || '<em style="color: grey;">Non renseign&eacute;</em>' }}</td>
					<td>{{= key.password || '<strong style="color: red;">Aucun</strong>' }}</td>
				</tr>
				{{~}}
			</table>
		</script>
	</head>
	<body>
		<div>
			<div>
				<section id="dev_templating">
					<!--Process Internal Template-->
					<script>
						var users_list = { // set data
								title: "Internal template",
								caption: "Liste des utilisateurs",
								users: [
									{login: "Polluxette", mail: "polluxette@hotmail.com"},
									{login: "Casperine", mail: "casperine@gmail.com", password: "195033F0"},
									{login: "Sigmunda", password: "PAL0A983"}
								]},
								template = document.getElementById("_template").text, // retrieve template
								compiled = doT.compile(template); // compile template to var
						document.write(compiled(users_list)); // write templated data
					</script>
					<hr>
					<!--Processed External Template will be put here-->
				</section>
			</div>
		</div>
		<script>
			body_tags.splice(-1, 0,{elem: "script", attr: {src: $app_path.js_own + "loap-dev_templating.js"}});
			loap();
		</script>
		<script>
			$(document).foundation();
		</script>
	</body>
</html>
