<!doctype html>
<html lang="fr">
	<head>
		<script src="boot.js"></script>
	</head>
	<body>

		<h2 class="red">Formulaires <small>&lt;form&gt;</small></h2>

		<!--Dev Testbar-->
		<div id="dev_testbar" class="panel">
			<svg width="0" height="0" viewBox="0 0 48 48">
				<polygon points="27,35.59 40,22.59 40,31.91 24,47.91 8,31.91 8,22.59 21,35.59 21,0 27,0 "/>
			</svg>
			<h4>Voir</h4>
			<label for="show_fieldsets">Jeux de champs</label>
			<input id="show_fieldsets" type="checkbox" name="show" value="fieldsets">
			<label for="show_selects">Listes de choix</label>
			<input id="show_selects" type="checkbox" name="show" value="selects">
			<label for="show_textareas">Zones de texte</label>
			<input id="show_textareas" type="checkbox" name="show" value="textareas">
			<label for="show_encode">Encodage</label>
			<input id="show_encode" type="checkbox" name="show" value="encoding" checked>
		</div>
		<script>
		// Events
		$("html").on("click", "[name='show']", function() {
			var f = $(this).val();
			$("#" + f).toggle();
		});
		// Init
		$(document).ready(function() {
			$("[name='show']").each(function() {
				var f = $(this).val();
				if ($(this).is(":checked")) {
					$("#" + f).show();
				} else {
					$("#" + f).hide();
				}
			});
		});
		</script>

		<!--Fieldsets-->
		<section id="fieldsets">
			<h3>Jeux de champ <small>&lt;fieldset&gt;</small></h3>

			<form method="get" accept-charset="utf-8" autocomplete="off" novalidate>

				<h4 class="subheader">L&eacute;gende seule</h4>
				<fieldset>
					<legend>myLegend</legend>
				</fieldset>

				<h4 class="subheader">Pas de l&eacute;gende</h4>
				<fieldset>
					<input type="text" placeholder="myPlaceHolder">
					<textarea placeholder="myPlaceHolder"></textarea>
					<input type="button" value="Valider" class="button right">
				</fieldset>

				<h4 class="subheader">Important <small>.important</small></h4>
				<fieldset class="important">
					<legend>myLegend</legend>
					<input type="text" placeholder="myPlaceHolder">
					<textarea placeholder="myPlaceHolder"></textarea>
					<input type="button" value="Valider" class="button right">
				</fieldset>

				<h4 class="subheader">Transparent <small>.transparent</small></h4>
				<fieldset class="transparent">
					<legend>myLegend</legend>
					<input type="text" placeholder="myPlaceHolder">
					<textarea placeholder="myPlaceHolder"></textarea>
					<input type="button" value="Valider" class="button right">
				</fieldset>

			</form>
		</section>

		<!--Selects-->
		<section id="selects">
			<h3>Liste de choix <small>&lt;select&gt;</small></h3>

			<form method="get" accept-charset="utf-8" autocomplete="off" novalidate>
				<fieldset>

					<!--Standard Select-->
					<label for="standard_select">Standard Select</label>
					<select id="standard_select">
						<option>Option</option>
						<option selected>Selected</option>
						<option disabled>Disabled</option>
						<option style="color: red;">Stylized</option>
					</select>

					<!--Options Select-->
					<label >Options Select <span class="text-small text-silver">.options-select</span></label>
					<div class="options-select" tabindex="0">
						<span class="select"><span class="text-silver">Please select an option</span></span>
						<ul class="options hide">
							<li>Option</li>
							<li class="selected">Selected</li>
							<li class="disabled">Disabled</li>
							<li style="color: red;">Stylized</li>
						</ul>
					</div>
					<p class="text-small"><strong>Advantages</strong>&thinsp;: full control against behaviour (script based), same display on all browsers (CSS based)<br><strong>Inconvenients</strong>&thinsp;: not focusable element (i.e. &lt;div&gt;), unusable on plain HTML display</p>

				</fieldset>
			</form>
		</section>
		<script>
			$(document).ready(function() {
				$(".options-select").options_select();
			});
		</script>

		<!--Textareas-->
		<section id="textareas">
			<h3>Zones de texte <small>&lt;textarea&gt;</small></h3>
			<form method="get" accept-charset="utf-8" autocomplete="off" novalidate>
				<fieldset>
					<legend>myLegend</legend>

					<label for="input_default">Default text input</label>
					<input id="input_default" type="text" placeholder="myPlaceHolder">

					<label for="textarea_default">Default text area (4 lines)</label>
					<textarea id="textarea_default" placeholder="myPlaceHolder"></textarea>

					<label for="textarea_min">Minimal text area (1 line) <span class="text-silver">class="min"</span></label>
					<textarea id="textarea_min" class="min" placeholder="myPlaceHolder"></textarea>

					<label for="textarea_tiny">Tiny text area (2 lines) <span class="text-silver">class="tiny"</span></label>
					<textarea id="textarea_tiny" class="tiny" placeholder="myPlaceHolder"></textarea>

					<label for="textarea_small">Small text area (4 lines) <span class="text-silver">class="small"</span></label>
					<textarea id="textarea_small" class="small" placeholder="myPlaceHolder"></textarea>

					<label for="textarea_medium">Medium text area (8 lines) <span class="text-silver">class="medium"</span></label>
					<textarea id="textarea_medium" class="medium" placeholder="myPlaceHolder"></textarea>

					<label for="textarea_large">Large text area (12 lines) <span class="text-silver">class="large"</span></label>
					<textarea id="textarea_large" class="large" placeholder="myPlaceHolder"></textarea>

					<input type="button" value="Valider" class="button right">

				</fieldset>
			</form>
		</section>

		<!--Encoding-->
		<section id="encoding">

			<!--Input-->
			<label for="textarea">Textarea</label>
			<textarea id="textarea" class="min" style="margin-bottom: 1rem;" maxlength="-1" placeholder="Votre texte ici">L'apostrophe ? -- Un "'*signe diacritique...*'" - pour lequel la '^critique^' "n'a point d'égal" !

"'*Auri Sacra Fames !*'" -- ^Virgile^</textarea>
			<!--Output-->
			<div style="font-size: 0;">
				<div style="display: inline-block; width: 50%; padding-right: .5rem; vertical-align: top; font-size: 1rem;">
					<label for="output">Output</label>
					<div id="output" class="panel">&hellip;</div>
				</div>
				<div style="display: inline-block; width: 50%; padding-left: .5rem; vertical-align: top; font-size: 1rem;">
					<label for="input">Input</label>
					<div id="input" class="panel callout">&hellip;</div>
				</div>
			</div>
			<!--Buttons-->
			<button id="encode" class="primary">Encoder</button>
			<button id="decode" class="secondary">D&eacute;coder</button>
			<button id="clear" class="alert">Effacer</button>
		</section>
		<script>
			$(document).ready(function() {
				// Live Events
				$("#textarea").on("keydown", function(e) {
					if (e.which == 13 && e.ctrlKey) { // Enter + Ctrl = validation
						$("#encode").click(); // NOTE : override event from validation_bar
					}
				});
				$("#textarea").on("focusout", function() {
					if ($(".confirmation-bar [data-confirm]").length > 0 && $(".confirmation-bar [data-confirm]").is(":hover")) {
						$("#encode").click(); // NOTE : override event from validation_bar
					}
				});
				$("#encode").click(function() {
					var s = $("#textarea").val().trim(), t = encode_html(s, true);
					$("#output").html(t.length > 0 ? t : "&nbsp;");
					$("#textarea").val(s);
					$("#textarea").trigger("autosize.resize") // force autosize
				});
				$("#decode").click(function() {
					var s = $("#output").html(), t = decode_html(s, true);
					$("#input").html(encode_html(s, true));
					$("#textarea").val(t == " " ? "" : t);
					$("#textarea").trigger("autosize.resize") // force autosize
				});
				$("#clear").click(function() {
					$("#input").html("&nbsp;");
					$("#textarea").val("");
					$("#textarea").trigger("autosize.resize") // force autosize
				});
				// Execution
				$("#textarea").add_confirmation_bar();
			});
		</script>

		<script>
			$build.container = false;
			load();
		</script>
	</body>
</html>
